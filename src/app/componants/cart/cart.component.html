<div class="container p-5">
    <h3 class="fw-bolder fst-italic fs-4 text-center">Card: <span *ngIf="cart.products.length>0" >{{cart.products.length}} Items!</span></h3>
    <h3 (click)="backhome()" *ngIf="cart.products.length==0" class="fw-bolder fst-italic fs-4 text-center">start Shoping!</h3>
    <div  *ngIf="cart.products.length>0" class="row">
       <div class="col-lg-8 text-center">
        <div class="row gy-3 justify-content-start border-bottom my-3 pb-3 align-items-center" *ngFor="let item of cart.products , let isLast=last" [class.border-bottom-0]="isLast">
            <div class="col-md-2 col-3">
                <img [src]="item.product.imageCover" class="w-100 " height="100px">

            </div>
            <div class="col-md-3 col-4">
                <h5 class="fw-bolder fs-6 m-0">{{item.product.title.split(" ").splice(0,2).join(" ")}}</h5>
    
            </div>
            <div class="col-md-2 col-4">
                <h5 class="fw-bolder fs-7 text-dark m-0">{{item.price | currency:'EGP'}}</h5>
            </div>
            <div class="col-lg-2 col-md-2 col-4">
                <div class="border text-center d-flex justify-content-between px-2 fw-bolder text-muted">
                    <span (click)="updateCartProductQty((item.count-1),item.product.id)" class="btn p-0 text-blue fw-bolder">-</span>
                    <span class="text-blue fw-bolder">{{item.count}}</span>
                    <span (click)="updateCartProductQty((item.count+1),item.product.id)" class="btn p-0 text-blue fw-bolder">+</span>
                </div>
            </div>
            <div class="col-md-2 col-4">
                <h5 class="fw-bolder fs-7 text-dark m-0">{{(item.price*item.count) | currency:'EGP'}}</h5>
            </div>
            <div class="col-md-1 col-lg-1 col-4" (click)="removeItem(item.product.id)">
                <i class="fa-solid fa-trash-can fa-lg text-blue btn p-0"></i>
            </div>
        </div>
        <a class="w-100 btn btn-blue fw-bolder my-2 text-decoration-none text-white" (click)="backhome()">Continue Shoping?</a>
        <button class="w-100 btn btn-blue text-white mb-2 fw-bolder" (click)="removeCart()">Start New Cart?</button>
       
        
       </div>
       <div class="offset-lg-1 col-lg-3 p-2 ">
        <div class=" p-3 orderSumry">
            <h3 class="fs-6 fw-bolder py-2 mb-3 border-bottom border-black">Order Summary</h3>
            <div class="d-flex justify-content-between px-2">
                <p class="fw-bolder fs-7">Price</p>
                <p class="fw-bolder fs-7">{{cart.totalCartPrice |currency:'EGP'}}</p>
            </div>
            <div class="d-flex justify-content-between px-2">
                <p class="fw-bolder fs-7">Shipping</p>
                <p class="fw-bolder fs-7">{{0 | currency:'EGP'}}</p>
            </div>
            <div class="d-flex justify-content-between px-2 border-bottom border-black pb-4">
                <p class="fw-bolder fs-7">Tax</p>
                <p class="fw-bolder fs-7">{{0 | currency:'EGP'}}</p>
            </div>
            <div class="d-flex justify-content-between px-2 pt-2">
                <p class="fw-bolder fs-7">Total Price</p>
                <p class="fw-bolder fs-7">{{cart.totalCartPrice | currency:'EGP'}}</p>
            </div>
            <button (click)="checkOut()" class="w-100 p-3 btn btn-dark"><span><i class="fa-solid fa-lock fa-lg"></i></span> Checkout</button>
        
        </div>
       </div>
    </div>
</div>
